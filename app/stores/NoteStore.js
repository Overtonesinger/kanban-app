import uuid from 'uuid';
import NoteActions from '../actions/NoteActions';

export default class NoteStore {
	constructor() {
		this.bindActions(NoteActions);
		this.notes = [
			{
				id: uuid.v4(),
				task: 'Learn React'
			},
			{
				id: uuid.v4(),
				task: 'Learn ES6'
			},
			{
				id: uuid.v4(),
				task: 'Povesit pradlo'
			}
		];
	}


	create(note) {
		this.setState({
			notes: this.notes.concat(note)
		});
	}

	update(updatedNote) {
		this.setState({
			notes: this.notes.map(note => {
				if(note.id === updatedNote.id) {
					return Object.assign({}, note, updatedNote);
				}

				return note;
			})
		});
	}

	delete(id) {
		this.setState({
			notes: this.notes.filter(note => note.id !== id)
		});
	}
}
